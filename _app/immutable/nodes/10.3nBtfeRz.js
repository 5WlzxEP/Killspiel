import{s as ht,p as vt,f as w,a as V,g as E,h as T,X as $t,c as P,d as $,j as S,i as O,x as u,V as bt,W as _t,l as M,m as X,n as K,e as ot,S as kt,y as wt}from"../chunks/scheduler.QGVxIACg.js";import{S as mt,i as gt,p as Et,b as Y,d as G,m as J,a as x,g as et,c as at,t as L,e as Q}from"../chunks/index.ElInTfSE.js";import{e as W}from"../chunks/each.k3i3fjfp.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.7dLaaeUP.js";import{P as Tt}from"../chunks/Paginator.ZWc1AdxA.js";import{I as Dt,a as St}from"../chunks/IconX.im0qjcw7.js";import{d as it}from"../chunks/leaderboard_data.JH0A3KKd.js";function ct(n,t,a){const e=n.slice();return e[3]=t[a],e}function ut(n,t,a){const e=n.slice();return e[6]=t[a],e}function xt(n){let t,a;return t=new Dt({props:{color:"lime"}}),{c(){Y(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,l){J(t,e,l),a=!0},i(e){a||(x(t.$$.fragment,e),a=!0)},o(e){L(t.$$.fragment,e),a=!1},d(e){Q(t,e)}}}function It(n){let t,a;return t=new St({props:{color:"red"}}),{c(){Y(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,l){J(t,e,l),a=!0},i(e){a||(x(t.$$.fragment,e),a=!0)},o(e){L(t.$$.fragment,e),a=!1},d(e){Q(t,e)}}}function ft(n){let t,a,e,l;const h=[It,xt],_=[];function g(f,k){return f[6]==="0"?0:1}return t=g(n),a=_[t]=h[t](n),{c(){a.c(),e=ot()},l(f){a.l(f),e=ot()},m(f,k){_[t].m(f,k),O(f,e,k),l=!0},p(f,k){let b=t;t=g(f),t!==b&&(et(),L(_[b],1,1,()=>{_[b]=null}),at(),a=_[t],a||(a=_[t]=h[t](f),a.c()),x(a,1),a.m(e.parentNode,e))},i(f){l||(x(a),l=!0)},o(f){L(a),l=!1},d(f){f&&$(e),_[t].d(f)}}}function dt(n){let t,a,e=n[3].rank+"",l,h,_,g,f=n[3].name+"",k,b,C,I,D=n[3].points+"",i,j,N,A=n[3].guesses+"",r,p,v,c=((n[3].guesses>0?n[3].points/n[3].guesses:0)*100).toFixed(2)+"",y,z,F,H,U,B,R=W(n[3].latest.toString(2).padStart(8,"0")),d=[];for(let o=0;o<R.length;o+=1)d[o]=ft(ut(n,R,o));const pt=o=>L(d[o],1,1,()=>{d[o]=null});return{c(){t=w("tr"),a=w("td"),l=M(e),h=V(),_=w("td"),g=w("a"),k=M(f),C=V(),I=w("td"),i=M(D),j=V(),N=w("td"),r=M(A),p=V(),v=w("td"),y=M(c),z=M(" %"),F=V(),H=w("td");for(let o=0;o<d.length;o+=1)d[o].c();U=V(),this.h()},l(o){t=E(o,"TR",{});var s=T(t);a=E(s,"TD",{});var m=T(a);l=X(m,e),m.forEach($),h=P(s),_=E(s,"TD",{});var q=T(_);g=E(q,"A",{href:!0,class:!0,"data-sveltekit-preload-data":!0});var lt=T(g);k=X(lt,f),lt.forEach($),q.forEach($),C=P(s),I=E(s,"TD",{class:!0});var rt=T(I);i=X(rt,D),rt.forEach($),j=P(s),N=E(s,"TD",{class:!0});var st=T(N);r=X(st,A),st.forEach($),p=P(s),v=E(s,"TD",{class:!0});var Z=T(v);y=X(Z,c),z=X(Z," %"),Z.forEach($),F=P(s),H=E(s,"TD",{class:!0});var nt=T(H);for(let tt=0;tt<d.length;tt+=1)d[tt].l(nt);nt.forEach($),U=P(s),s.forEach($),this.h()},h(){S(g,"href",b="/user/"+n[3].id),S(g,"class","w-full p-4"),S(g,"data-sveltekit-preload-data","tap"),S(I,"class","text-right"),S(N,"class","text-right"),S(v,"class","text-right"),S(H,"class","grid-cols-8 grid")},m(o,s){O(o,t,s),u(t,a),u(a,l),u(t,h),u(t,_),u(_,g),u(g,k),u(t,C),u(t,I),u(I,i),u(t,j),u(t,N),u(N,r),u(t,p),u(t,v),u(v,y),u(v,z),u(t,F),u(t,H);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(H,null);u(t,U),B=!0},p(o,s){if((!B||s&2)&&e!==(e=o[3].rank+"")&&K(l,e),(!B||s&2)&&f!==(f=o[3].name+"")&&K(k,f),(!B||s&2&&b!==(b="/user/"+o[3].id))&&S(g,"href",b),(!B||s&2)&&D!==(D=o[3].points+"")&&K(i,D),(!B||s&2)&&A!==(A=o[3].guesses+"")&&K(r,A),(!B||s&2)&&c!==(c=((o[3].guesses>0?o[3].points/o[3].guesses:0)*100).toFixed(2)+"")&&K(y,c),s&2){R=W(o[3].latest.toString(2).padStart(8,"0"));let m;for(m=0;m<R.length;m+=1){const q=ut(o,R,m);d[m]?(d[m].p(q,s),x(d[m],1)):(d[m]=ft(q),d[m].c(),x(d[m],1),d[m].m(H,null))}for(et(),m=R.length;m<d.length;m+=1)pt(m);at()}},i(o){if(!B){for(let s=0;s<R.length;s+=1)x(d[s]);B=!0}},o(o){d=d.filter(Boolean);for(let s=0;s<d.length;s+=1)L(d[s]);B=!1},d(o){o&&$(t),_t(d,o)}}}function yt(n){let t,a,e,l,h='<tr><th class="p-1 m-1 w-[10%]">Rank</th> <th class="text-center w-[15%]">Name</th> <th class="text-center w-[10%]">Punkte</th> <th class="text-center w-[10%]">Teilnahmen</th> <th class="text-center w-[10%]">Rate</th> <th class="text-right w-[15%] min-w-[200px]">letzten 8 Versuche</th></tr>',_,g,f,k,b,C,I,D=W(n[1]),i=[];for(let r=0;r<D.length;r+=1)i[r]=dt(ct(n,D,r));const j=r=>L(i[r],1,1,()=>{i[r]=null});function N(r){n[2](r)}let A={showFirstLastButtons:!0,showPreviousNextButtons:!0,showNumerals:!0};return n[0]!==void 0&&(A.settings=n[0]),b=new Tt({props:A}),vt.push(()=>Et(b,"settings",N)),{c(){t=w("div"),a=w("div"),e=w("table"),l=w("thead"),l.innerHTML=h,_=V(),g=w("tbody");for(let r=0;r<i.length;r+=1)i[r].c();f=V(),k=w("div"),Y(b.$$.fragment),this.h()},l(r){t=E(r,"DIV",{class:!0});var p=T(t);a=E(p,"DIV",{class:!0});var v=T(a);e=E(v,"TABLE",{class:!0});var c=T(e);l=E(c,"THEAD",{"data-svelte-h":!0}),$t(l)!=="svelte-c1a782"&&(l.innerHTML=h),_=P(c),g=E(c,"TBODY",{});var y=T(g);for(let F=0;F<i.length;F+=1)i[F].l(y);y.forEach($),c.forEach($),f=P(v),k=E(v,"DIV",{class:!0});var z=T(k);G(b.$$.fragment,z),z.forEach($),v.forEach($),p.forEach($),this.h()},h(){S(e,"class","table table-hover table-cell-fit mx-auto w-full m-1"),S(k,"class","mt-2"),S(a,"class","table-container mx-auto w-full m-1"),S(t,"class","container")},m(r,p){O(r,t,p),u(t,a),u(a,e),u(e,l),u(e,_),u(e,g);for(let v=0;v<i.length;v+=1)i[v]&&i[v].m(g,null);u(a,f),u(a,k),J(b,k,null),I=!0},p(r,[p]){if(p&2){D=W(r[1]);let c;for(c=0;c<D.length;c+=1){const y=ct(r,D,c);i[c]?(i[c].p(y,p),x(i[c],1)):(i[c]=dt(y),i[c].c(),x(i[c],1),i[c].m(g,null))}for(et(),c=D.length;c<i.length;c+=1)j(c);at()}const v={};!C&&p&1&&(C=!0,v.settings=r[0],bt(()=>C=!1)),b.$set(v)},i(r){if(!I){for(let p=0;p<D.length;p+=1)x(i[p]);x(b.$$.fragment,r),I=!0}},o(r){i=i.filter(Boolean);for(let p=0;p<i.length;p+=1)L(i[p]);L(b.$$.fragment,r),I=!1},d(r){r&&$(t),_t(i,r),Q(b)}}}function Bt(n,t,a){let e,l={page:0,limit:25,size:it.length,amounts:[10,25,50,100]};function h(_){l=_,a(0,l)}return n.$$.update=()=>{n.$$.dirty&1&&a(1,e=it.slice(l.page*l.limit,l.page*l.limit+l.limit))},[l,e,h]}class Lt extends mt{constructor(t){super(),gt(this,t,Bt,yt,ht,{})}}function Vt(n){let t,a,e,l;return e=new Lt({}),{c(){t=V(),a=w("div"),Y(e.$$.fragment),this.h()},l(h){kt("svelte-1brksvc",document.head).forEach($),t=P(h),a=E(h,"DIV",{class:!0});var g=T(a);G(e.$$.fragment,g),g.forEach($),this.h()},h(){document.title="Leaderboard | Killspiel",S(a,"class","container mx-auto")},m(h,_){O(h,t,_),O(h,a,_),J(e,a,null),l=!0},p:wt,i(h){l||(x(e.$$.fragment,h),l=!0)},o(h){L(e.$$.fragment,h),l=!1},d(h){h&&($(t),$(a)),Q(e)}}}class zt extends mt{constructor(t){super(),gt(this,t,null,Vt,ht,{})}}export{zt as component};
