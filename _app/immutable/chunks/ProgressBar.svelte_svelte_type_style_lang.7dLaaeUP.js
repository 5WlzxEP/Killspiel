import{w as M,r as S}from"./index.HhSS_fSS.js";import{Y as L}from"./scheduler.QGVxIACg.js";const m={};function h(e){return e==="local"?localStorage:sessionStorage}function i(e,s,t){const r=(t==null?void 0:t.serializer)??JSON,a=(t==null?void 0:t.storage)??"local";function u(c,d){h(a).setItem(c,r.stringify(d))}if(!m[e]){const c=M(s,o=>{const n=h(a).getItem(e);n&&o(r.parse(n));{const g=l=>{l.key===e&&o(l.newValue?r.parse(l.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:d,set:f}=c;m[e]={set(o){u(e,o),f(o)},update(o){const n=o(L(c));u(e,n),f(n)},subscribe:d}}return m[e]}const P=i("modeOsPrefers",!1),E=i("modeUserPrefers",void 0),p=i("modeCurrent",!1);function b(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return P.set(e),e}function I(e){E.set(e)}function O(e){const s=document.documentElement.classList,t="dark";e===!0?s.remove(t):s.add(t),p.set(e)}function H(){const e=document.documentElement.classList,s=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),r=window.matchMedia("(prefers-color-scheme: dark)").matches;s||t&&r?e.add("dark"):e.remove("dark")}function R(){const e=window.matchMedia("(prefers-color-scheme: light)");function s(t){const r=document.documentElement.classList,a="dark";t===!0?r.remove(a):r.add(a)}s(e.matches),e.onchange=()=>{s(e.matches)}}const w="(prefers-reduced-motion: reduce)";function v(){return window.matchMedia(w).matches}const k=S(v(),e=>{{const s=r=>{e(r.matches)},t=window.matchMedia(w);return t.addEventListener("change",s),()=>{t.removeEventListener("change",s)}}});export{O as a,I as b,R as c,b as g,i as l,p as m,k as p,H as s};
